# Repository Guidelines

## Project Structure & Module Organization
- Core entry: `main.js` (Electron main process)
- Source: `src/main` (IPC, DB, filesystem), `src/renderer` (UI), `src/preload` (bridges)
- Utilities: `src/main/utils`, menus/windows in `src/main/menu` and `src/main/window`
- Assets: `assets/icons/*`
- Scripts: `scripts/rebuild-native.mjs` (rebuild native deps)
- Samples: `ejemplos/*` (example XML/CSV)

## Build, Test, and Development Commands
- `npm start` — launch the app.
- `npm run dev` — launch with hot reload (`electron-reloader`).
- `npm run rebuild:native` — rebuild native modules (`sharp`, `sqlite3`). Run after `npm i` or Electron upgrades.
- `npm run dist:win|dist:mac|dist:linux` — package installers via `electron-builder` (artifacts in `dist/`).
- `npm run clean` / `npm run install:clean` — remove `node_modules`, `dist`, `build` and reinstall.
- Releases: `npm run release[:minor|:major]` — uses `standard-version` to bump, tag, and build for Windows.

## Coding Style & Naming Conventions
- JavaScript (CommonJS) with 2‑space indentation, single quotes, and semicolons.
- Filenames: lowerCamelCase for modules (e.g., `xmlParser.js`), directories kebab/lowercase.
- Functions/variables use `camelCase`; classes `PascalCase`.
- Prefer small modules under `src/main/*` and `src/renderer/*`. Place new IPC handlers in `src/main/ipc`, windows in `src/main/window`, utilities in `src/main/utils`.
- No linter configured; keep formatting consistent with existing files. Add JSDoc where helpful.

## Testing Guidelines
- No automated tests are configured yet. If adding tests:
  - Place unit tests under `src/**/__tests__` or `tests/` with `*.test.js`.
  - Prefer Jest for pure modules and an Electron-friendly runner for integration.
  - Add `"test": "jest"` in `package.json` and aim for coverage of IPC handlers and utilities.

## Commit & Pull Request Guidelines
- Use Conventional Commits (e.g., `feat:`, `fix:`, `docs:`, `chore:`, `refactor:`). The changelog is generated by `standard-version`.
- Commits should be scoped when relevant (e.g., `feat(ipc): ...`).
- PRs: include clear description, linked issues, and screenshots/GIFs for UI changes. Note platform impacts (Windows/macOS/Linux) and native module considerations.

## Security & Configuration Tips
- Do not commit secrets. If using Google Drive (`src/main/googleDriveManager.js`), store credentials securely and ignore local config files.
- Native builds require platform toolchains (e.g., Windows SDK for `node-gyp`). Run `npm run rebuild:native` before packaging.
